@use "sass:math";
@use "musical-system" as *;

// Default Musical Scale Configuration
// Based on Spencer Mortensen's Typographic Scale
// https://spencermortensen.com/articles/typographic-scale/
:root {
  // Apply default musical scale (Classic Typographic Scale)
  @include generate-musical-scale('classic', 'web', 3);
  @include generate-musical-spacing('classic', 'web');
}

// Musical Scale Presets - Different scales with different feels
// Tritonic Scale - Simple and bold (3 notes, ratio 2)
:root[data-scale="tritonic"] {
  @include generate-musical-scale('tritonic', 'web', 3);
  @include generate-musical-spacing('tritonic', 'web');
}

// Tetratonic Scale - Balanced (4 notes, ratio 2)
:root[data-scale="tetratonic"] {
  @include generate-musical-scale('tetratonic', 'web', 3);
  @include generate-musical-spacing('tetratonic', 'web');
}

// Classic Typographic Scale - Most versatile (5 notes, ratio 2) - Default
:root[data-scale="classic"] {
  @include generate-musical-scale('classic', 'web', 3);
  @include generate-musical-spacing('classic', 'web');
}

// Perfect Fifth Scale - Harmonious (5 notes, ratio 1.5)
:root[data-scale="perfect-fifth"] {
  @include generate-musical-scale('perfect-fifth', 'web', 3);
  @include generate-musical-spacing('perfect-fifth', 'web');
}

// Golden Ratio Scale - Elegant (2 notes, ratio 1.618)
:root[data-scale="golden"] {
  @include generate-musical-scale('golden', 'web', 3);
  @include generate-musical-spacing('golden', 'web');
}

// Major Third Scale - Subtle (3 notes, ratio 1.25)
:root[data-scale="major-third"] {
  @include generate-musical-scale('major-third', 'web', 3);
  @include generate-musical-spacing('major-third', 'web');
}

// Musical Key Presets - Different base frequencies for different contexts
// Large screen key (1.2rem base)
:root[data-key="large"] {
  @include generate-musical-scale('classic', 'large', 3);
  @include generate-musical-spacing('classic', 'large');
}

// Small screen key (0.875rem base)
:root[data-key="small"] {
  @include generate-musical-scale('classic', 'small', 3);
  @include generate-musical-spacing('classic', 'small');
}

// Print key (12pt base)
:root[data-key="print"] {
  @include generate-musical-scale('classic', 'print', 3);
  @include generate-musical-spacing('classic', 'print');
}

// SCSS variables for fallback (when CSS custom properties aren't supported)
$spacing-base: 1rem;
$spacing-ratio: 1.5;

$sizes: (
  xs: math.div($spacing-base, math.pow($spacing-ratio, 2)), // 0.444rem
  sm: math.div($spacing-base, $spacing-ratio),              // 0.667rem
  md: $spacing-base,                                        // 1rem
  lg: $spacing-base * $spacing-ratio,                       // 1.5rem
  xl: $spacing-base * math.pow($spacing-ratio, 2),          // 2.25rem
  xxl: $spacing-base * math.pow($spacing-ratio, 3),         // 3.375rem
) !default;

$phone-upper-boundary: 600px;
$tablet-portrait-upper-boundary: 900px;
$tablet-landscape-upper-boundary: 1200px;
$desktop-upper-boundary: 1800px;

$media-queries: (
  base: 'screen',
  phone: 'screen and (max-width: #{$phone-upper-boundary - 1})',
  tabletPortrait: 'screen and (min-width: #{$phone-upper-boundary}) and (max-width: #{$tablet-portrait-upper-boundary - 1})',
  tabletLandscape: 'screen and (min-width: #{$tablet-portrait-upper-boundary}) and (max-width: #{$tablet-landscape-upper-boundary - 1})',
  desktop: 'screen and (min-width: #{$tablet-landscape-upper-boundary}) and (max-width: #{$desktop-upper-boundary - 1})',
  desktopWide: 'screen and (min-width: #{$desktop-upper-boundary})'
);

$inputs: date, datetime, datetime-local, email, month, number, password, range, search, tel, text, time, url, week, file;